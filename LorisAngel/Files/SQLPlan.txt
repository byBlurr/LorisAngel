On start up, load the users from database
Loop every user of every guild every 5 seconds
Add any missing user to the stored list of users
Check status of any user, if changed store last seen as current time and update status

Loop all stored users every one minute, saving the users to the database